<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <style>

        li {
            width: 800px;
            width: 80px;
            
        }

        li > div {

            width: 150px;
            height: 80px;
            border: 1px solid;

            display: flex;
            justify-content: center;
            align-items: center;
        }

    </style>


</head>
<body>




        <label for="">ì´ë¦„</label>
        <input type="text">

        <label for="">ë‚˜ì´</label>
        <input type="text">

        <label for="">ì·¨ë¯¸</label>
        <input type="text">
        
        <label for="">ì—°ë½ì²˜</label>
        <input type="text">

        <button id="addBtn"> ì¶”ê°€ </button>

        <div id="_div">
            
        </div>



</body>



<script>

    // ğŸŸ¦ JSON íŒŒì¼ ë¬¸ìì—´ì„ ë‹¤ë¤„ë³´ì 

    // JSON ì€?  
        // ê°ì²´ ì²˜ëŸ¼ ìƒê²¼ìŒ 
    
    // í•„ìš”ì„± 
        // ë°ì´í„°ë¥¼ 'ë¬¸ìì—´' ë¡œ ë°›ìŒ > ì´ ë¬¸ìì—´ì„ 'ê°ì²´' ë¡œ ë³€í™˜! í•˜ê¸° ìœ„í•´ì„œ json ì‚¬ìš© 
        // ë¬¸ìë¡œ ë°›ì•˜ì§€ë§Œ, ê°ì²´ë¡œ ë³€í™˜í•´ì„œ, í™œìš”í•˜ê¸° ìœ„í•´ì„œ! 


    let _json = '{ "key" : "value" }'
    console.log(_json);


    // ë¬¸ìë¥¼ ê°ì²´ë¡œ ë°”ê¿”ì£¼ë ¤ë©´????? 
        // parse ë©”ì†Œë“œ 
            // ì´ ë©”ì†Œë“œê°€ ê°ì²´ë¡œ ê°ì²´ í˜•íƒœì˜ ë¬¸ìì—´ì„ íŒŒì‹±í•´ì¤€ë‹¤. 
        console.log(JSON.parse(_json))
            // ë¬¸ìì—´ì„ input í•˜ë©´ > ê°ì²´ë¡œ ë³€í™˜í•´ì¤Œ â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­


    // 'ê°ì²´' ë¥¼ 'ë¬¸ìì—´' ë¡œ ë³€í™˜
        // stringify ë©”ì†Œë“œ
        let obj = {key : 24};
        console.log(JSON.stringify(obj))

    // í•œë²ˆ claer í•´ì£¼ê¸°? âœ… ë‹¤ë¥¸ ì  âœ…âœ…âœ…âœ…âœ…âœ…âœ…
    // window.localStorage.clear();



    // ë²„íŠ¼ ëˆ„ë¥´ë©´ > ì´ í•¨ìˆ˜ ì‹¤í–‰ì‹œí‚¤ê¸° 
    function addList() {

        // input ì—ì„œ ê°’ ë°›ì•„ì˜¤ê¸° 
        let inputs = document.querySelectorAll("input")

        let value = window.localStorage.getItem("ê²Œì‹œíŒ");

        // length ê°€ 0 ì´ë‹ˆê¹Œ ê³„ì† ìˆ˜ì •ëœê²Œ ë°˜ì˜ ì•ˆë˜ê³  -> ê·¸ ë‹¤ìŒ ì´ê±¸ ë„£ì—ˆìŒ 
        // window.localStorage.clear();

        // âœ…âœ…âœ…âœ…âœ… "ìŒë”°ì˜´í‘œ ë„£ì–´ì„œ, ê¸€ìê°€ í•œê¸€ë„ ë‚˜ì˜¤ê²Œ í•˜ê¸°"
        if (window.localStorage.length == 0) {
            window.localStorage.setItem("ê²Œì‹œíŒ", `{ " name " : "${inputs[0].value}", "age" : "${inputs[1].value}", "content" : "${inputs[2].value}", "tel" : "${inputs[3].value} }` )
            
        } else {
            // | ëŠ” ìë¥¼ë§Œí•œ ë¬¸ìì—´ì„ ì£¼ëŠ” ê²ƒ! 
            window.localStorage.setItem("ê²Œì‹œíŒ", value + "|" + `{ " name " : ${inputs[0].value}, "age" : ${inputs[1].value}, "content" : ${inputs[2].value}, "tel" : ${inputs[3].value} }` )
            
        }

        console.log(window.localStorage.getItem("ê²Œì‹œíŒ"))
        // console.log(window.localStorage.getItem("ê²Œì‹œíŒ"));

        // json ì¨ì„œ 'ê°ì²´' ë¡œ ë³€í™˜ 
        // let _json = JSON.parse(window.localStorage.getItem("ê²Œì‹œíŒ"));
        // console.log(_json)

        // âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ… render() ë„£ì–´ì£¼ê¸° 
        render();
    }

    // ë Œë” í•¨ìˆ˜ (ê·¸ë¦¬ëŠ” í•¨ìˆ˜)
    function render() {
        // ë¬¸ìì—´ ë¶€í„° ê°€ì ¸ì˜¨ë‹¤.
        let _json = window.localStorage.getItem('ê²Œì‹œíŒ');

        // ì´ê±¸ json ì— ë‹¤ì‹œ ë„£ëŠ”ë‹¤. 
            // |ì´ê±° ë§ˆë‹¤ ì˜ë¼ì„œ > ë°°ì—´ë¡œ! 
        _json = _json.split("|");
        console.log(_json);


        // âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ… ì´ˆê¸°í™” ë³€ê²½
        _div1.innerHTML = "";
        
        // 
        let _ul = document.createElement("ul");
        
        // 
        let _li = document.createElement("li");
        
        let _div1 = document.createElement("div");  
        let _div2 = document.createElement("div");
        let _div3 = document.createElement("div");
        let _div4 = document.createElement("div");
        
            _div1.innerHTML = "ì´ë¦„";
            _div2.innerHTML = "ë‚˜ì´";
            _div3.innerHTML = "ì·¨ë¯¸";
            _div4.innerHTML = "ì „í™”ë²ˆí˜¸";

        _li.style.display = "flex"
        _li.append(_div1, _div2, _div3, _div4);
        _ul.append(_li);



        // ë“¤ì–´ì˜¨ ê±¸ ë¿Œë ¤ì¤„ ê²ƒ ì„. 
        _json.forEach( function(i) {

            // _div ì—¬ê¸°ì— íƒœê·¸ë¥¼ ë„£ì–´ì¤„ ê²ƒ ì„!
            let _li = document.createElement("li");

            let _div1 = document.createElement("div");
            let _div2 = document.createElement("div");
            let _div3 = document.createElement("div");
            let _div4 = document.createElement("div");
            
            _div1.innerHTML = JSON.parse(i).name;
            _div2.innerHTML = JSON.parse(i).age;
            _div3.innerHTML = JSON.parse(i).content;
            _div4.innerHTML = JSON.parse(i).tel;

            // ìŠ¤íƒ€ì¼ ì¤˜ë³´ê¸° 
            _li.style.display = "flex";

            // _li.innerHTML = i;

            _li.append(_div1, _div2, _div3, _div4);
            _ul.append(_li);
                // ì—¬ê¸°ì„œ ë§Œë“ ê±° 

        });

        // ë„ìš°ê¸° 
        _div.append(_ul);


    }

    // âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…âœ…ì—¬ê¸°ë„ ë‹¤ë¦„ 
    if (window.localStorage.length != 0) {

        render();

    }
        // ë‚˜ì˜¤ëŠ” ê°’ì€ ì»´í“¨í„° ë°ì´í„°ì— ì €ì¥



    // ë²„íŠ¼ì— ëŒ€í•´ ì´ë²¤íŠ¸ ì¶”ê°€
    addBtn.addEventListener("click", addList);



</script>




</html>