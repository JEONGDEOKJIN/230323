<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <style>

        body {

            padding: 0;
            margin: 0;

        }


        .box {
            position: relative;
            width: 100%;
            height: 500px;
            overflow: hidden;
            
        }


        .box-content {

            position: absolute;
            
            /* ë¶€ëª¨ì˜ ë„ˆë¹„ë¡œâ“â“â“â“â“ */
            left: 100%;
            width: 100%;
            height: 100%;

            opacity: 0;

            background-color: aquamarine;

            /* ë³€í•˜ëŠ”ê²Œ ìˆìœ¼ë©´, 1ì´ˆë™ì•ˆ ë³€í•˜ê²Œ */
            transition: 1s;
        }

        /* ì´ê²Œ ë¶™ìœ¼ë©´ > ìŠˆìŠˆìŠˆìŠ‰ìŠ‰ ë‚˜ì˜´  */
        .is-active {

            left: 0;
            opacity: 1;

        }


        .big-box {

            height: 120vh;
            width: 100%;
            background-color: lightsalmon;
        }


    </style>






</head>
<body>
    

<div class="big-box"> 



</div>
    <div class = "box">    
            <div class="box-content"> </div>    
    </div>
     <div class = "box">   
            <div class="box-content"> </div>    
    </div>
     <div class = "box">   
            <div class="box-content"> </div>    
    </div>
     <div class = "box">   
            <div class="box-content"> </div>    
    </div>




</body>





<script>

    let _boxContents = document.querySelectorAll('.box-content');
    console.log(_boxContents)


    // getBoundingClientRect
        // 'í˜„ì¬ íƒœê·¸ì˜ ì‚¬ê°ë©´' ì„ êµ¬í•  ìˆ˜ ìˆìŒ. â­â­â­â­â­ 
        // 'ë°˜í™˜ëœ ê°ì²´ê°’'ì´ top left bottom right ì´ë ‡ê²Œ ìˆì„ ë•Œ 
        // ìš°ë¦¬ëŠ” top ì´ í•„ìš”
        // ì–´ë–»ê²Œ top ê°’ ê°€ì ¸ì™€?
        console.log(_boxContents[0].getBoundingClientRect().top);
            // ìœ—ë©´ì´ ì–´ë””ì— ìˆëŠ”ì§€ 
            // í˜„ì¬ top ì€ 0 ì¢Œí‘œì— ìˆì–´ 
        console.log(_boxContents[0].getBoundingClientRect().bottom);
            // bottom ì€ 500 ìœ„ì¹˜ ì— ìˆì–´ 
        
        console.log(_boxContents[0].getBoundingClientRect().top + window.pageYOffset);
        console.log(_boxContents[1].getBoundingClientRect().top + window.pageYOffset);
        console.log(_boxContents[2].getBoundingClientRect().top + window.pageYOffset);
        console.log(_boxContents[3].getBoundingClientRect().top + window.pageYOffset);
        // ë§¨ ìœ„ì—ì„œ ë³´ë©´, í˜„ì¬ ë¸Œë¼ìš°ì € ìœ„ì¹˜ì—ì„œ ë³´ë©´, ë§ˆì´ë„ˆìŠ¤, ê°€ ë‚˜ì˜´. 
        // -900 ìœ„ë¡œ ë‚˜ì˜¨ë‹¤. 
        // ê¸°ì¤€ì¹˜ ì—ì„œ ìœ„ë¡œ 900 ìˆë‹¤ëŠ” ë§
        // SO, ì§„í–‰ì—ì„œ - ìŠ¤í¬ë¡¤ ê°’ ë”í•´ì£¼ë©´ ì˜ ë‚˜ì˜´ 
            // /i.getBoundingClientRect().top + window.pageYOffsetâ­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­ 
                // ì´ë ‡ê²Œ ë¹¼ì£¼ë©´ > ìŒìˆ˜ê°€ ì•ˆ ë‚˜ì™€ 
                // top ì—ì„œ ì§„í–‰ëœ ê°’ì„ ë”í•´ì„œ 




    // ì´ˆê¸°í™” 
    // ìŠ¤í¬ë¡¤ ê°’ë“¤ì„ ì •ë¦¬ 
    let posY = [];
    
    function init() {

        // ì´ˆê¸° ì…‹íŒ…
            // top ì˜ ê°’ì„ ì•Œì•„ì•¼ ë¹„êµí•´ì„œ ì• ë‹ˆë©”ì´ì…˜ í•  ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ â­â­â­â­â­â­ 
            // ë‹¤ë§Œ, ë¬¸ì œëŠ” ì´ë¯¸ ìŠ¤í¬ë¡¤ì´ ë˜ì–´ ìˆì„ ëŒ€ 
                // ìŠ¤í¬ë¡¤ì´ ì´ë¯¸ ë˜ì–´ ìˆìœ¼ë©´ ì˜ ì•ˆ ë‚˜ì™€
        _boxContents.forEach(function(i) {

            // top ì˜ ê°’ë“¤ì„ ëª¨ë‘ ë°°ì—´ì— ë‹´ì•„ì£¼ê³  
            // í˜ì´ì§€ì— ì ‘ì†ë˜ì—ˆì„ ë•Œ ìŠ¤í¬ë¡¤ã„¹ì´ ì§„í–‰ë˜ì–´ ìˆëŠ” ê°’ : window.pageYOffset

            // í˜ì´ì§€ ì ‘ì†í–ˆì„ ë•Œ 
            posY.push(i.getBoundingClientRect().top + window.pageYOffset);

        })
        // posY.push()
    }

    init();


    // ì´ë¯¸ ìŠ¤í¬ë¡¤ ë˜ì–´ ìˆëŠ”ì§€í™•ì¸ 
        // í˜ì´ì§€ì— ë“¤ì–´ì™”ì„ ë•Œ 
    // console.log(window.pageYOffset)



    // ìŠ¤í¬ë¡¤ í–ˆì„ ë•Œ~
    window.onscroll = function() {

        // í•„ìš”í•œê²Œ ë¸Œë¼ìš°ì €ì˜ Y ìŠ¤í¬ë¡¤ ê°’
        // ì§„í–‰ëœ ìŠ¤í¬ë¡¤ ê°’ window.scrollY
        // console.log("ìŠ¤í¬ë¡¤ ë˜ê³  ìˆë‚˜ í™•ì¸")
        console.log(window.scrollY);
            // ì§€ê¸ˆì€ 0 ê¸°ì¤€ì„! 

        // í˜ì´ì§€ë¥¼ ìŠ¤í¬ë¡¤ í•˜ë©´ì„œ, ë¸Œë¼ìš°ì €ì˜ ì œì¼ ë°‘ë‹¨ì„ ê¸°ì¤€ìœ¼ë¡œ ë°”ê¾¸ë ¤ë©´? 
        // ë¸Œë¼ìš°ì €ì˜ ë†’ì´ë¥¼ ë”í•´ì£¼ë©´ > ì œì¼ ë°‘ ë‹¨ì„ ê¸°ì¤€ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŒ. ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ 
        // í˜„ì¬ ë¸Œë¼ìš°ì €ì˜ í¬ê¸°ë¥¼ ë”í•´ì£¼ë©´ > 'ë°‘ì„ ê¸°ì¤€' ìœ¼ë¡œ í•  ìˆ˜ ìˆì–´ 

        // ë¸Œë¼ìš°ì € 'ë†’ì´' êµ¬í•˜ë ¤ë©´
        // window.innerHeight;

        // ì´ ë†ˆì„ í˜„ì¬ ì§„í–‰ë˜ëŠ” ìŠ¤í¬ë¡¤ ê°’ì— ë”í•´ì¤„ ê²ƒ ì„
        // BOTTOM ì„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ê°’ì„ êµ¬í•  ìˆ˜ ìˆìŒ. 
        // console.log(window.scrollY + window.innerHeight)

        // ìŠ¤í¬ë¡¤ ê°’ì€ bottom ê¸°ì¤€ìœ¼ë¡œ ë§Œë“¤ì–´ë‘ .
        let _scroll = window.scrollY + window.innerHeight;
            // ìŠ¤í¬ë¡¤ì´ ì§„í–‰ëœ ê°’, 
            // window.scrollY ì—¬ì´ê²ƒë§Œ ì“°ë©´ > ë‹¤ ë‚´ë ¤ê°€ì„œ ë‚˜ì™€ 
            // window.scrollY + window.innerHeight /2 > ì´ë ‡ê²Œ í•˜ë©´ ë°˜ì ˆì§€ë‚˜ì„œ ë‚˜ì™€ 
            // bottom ê¸°ì¤€ìœ¼ë¡œ í•˜ë ¤ê³  ì´ê±¸ í•¨ â­â­â­â­â­â­â­â­â­â­â­â­â­

        _boxContents.forEach(function(i, index) {
            
            if(_scroll > posY[index] ) {

                // if ë¬¸ ì‚¬ìš©í•  ë•Œ, ì¤‘ê´„í˜¸ê°€ ì—†ìœ¼ë©´ > ë°”ë¡œ ë°‘ì˜ ì¤„ ì½”ë“œì˜ ì—¬ë¶€ë§Œ ì ìš©ì‹œí‚¬ ìˆ˜ ìˆìŒ. â­â­â­â­â­â­â­â­ 
                    // í•œì¤„ë§Œ ì¡°ê±´ì²˜ë¦¬ â­â­â­â­â­â­â­â­â­â­â­â­ 
                // í•´ë‹¹ í´ë˜ìŠ¤ê°€ 'ì—†ìœ¼ë©´!!!!!'
                if(!i.classList.contains("is-active"))
                    i.classList.add("is-active");
                
            } else {
                i.classList.remove("is-active");
                    // ìŠ¤í¬ë¡¤ì„ ìœ„ë¡œ ì˜¬ë¦¬ë©´ > ë–¼ì–´ë²„ë¦¬ëŠ”ê±° 
            }
            

        })
    }

    window.onresize = function() {
        
        // ë¸Œë¼ìš°ì € ì‚¬ì´ì¦ˆ ë©´í•˜ë©´ > ë†’ì´ ì°ì–´
        console.log(window.innerHeight)
    }










</script>




</html>