<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style> 
    
    body {
        padding: 0;

        /* body íƒœê·¸ ì•ˆìœ¼ë¡œ íŒŒê³  ë“œëŠ” ê±¸ ì—†ì•¨ ìˆ˜ ìˆìŒ.  */
        margin: 0;
    }


    .box {

        /* body ê°€ ê½‰ì°¨ëŠ” ê±´ê°€ ê·¸ëŸ¬ë©´? */
        width: 100%;
        height: 500px;

        /* position ì€ ìœ„ì¹˜ ì¡°ì •ì—ë§Œ? / ë¶€ìˆ˜ì ìœ¼ë¡œ ë¶• ë„ìš¸ ìˆ˜ ìˆì§€ ì•Šë‚˜? */
        position: relative;

        /* ì´ê²Œ ë§Œì•½, ë„˜ì–´ê°€ë©´, ìˆ¨ê¸´ë‹¤? ì¢‹ì€ ë””í´íŠ¸ê°’?  */
        overflow: hidden;

        background-color: rgb(173, 216, 230);
    }
    

    .box-content {

        position: absolute;

        /* ì´ê²Œ ì•„ì§ ë¶€ì¡±í•´ ğŸ“›ğŸ“›ğŸ“› */
        left: 100%;
        
        width: 100%;
        height: 100%;

        opacity: 1;

        background-color: yellow;

        /* ë³€í•˜ëŠ”ê²Œ ìˆìœ¼ë©´ > 1ì´ˆ ë™ì•ˆ ë³€í•˜ê²Œ â­â­â­â­â­ */
        transition: 1s;
    }


    .is-active {

        /* ì™œ ì´ê²Œ ë¶™ì§€?  */
        left: 0;

        opacity: 1;

    }


    .big-box {

        height: 120vh;
        width: 100%;
        background-color: lightpink;
    }



    </style>

</head>
<body>
    

<!-- big box -->
<div class="big-box"> </div>

<!-- ê·¸ëƒ¥ box -->
    <div class="box"> 

        <div class="box-content"> </div>

    </div>
    
    <div class="box"> 

        <div class="box-content"> </div>

    </div>
    
    <div class="box"> 

        <div class="box-content"> </div>

    </div>
    
    <div class="box"> 

        <div class="box-content"> </div>

    </div>
    


</body>


<script> 

    
    let _boxContents = document.querySelectorAll('.box-content')
    // [í•´ì„]
        // í˜„ì¬, ê¸°ë³¸ì ì¸ ìƒíƒœë¡œì¨, box ì˜ ìƒ‰ê¹”ë§Œ ë³´ì´ê³  ìˆìŒ. 
        // ê·¸ ìì‹ì¸ 'box-content' ëŠ” ë³´ì´ì§€ ì•Šê³  ìˆìŒ. 
        // ìŒ... ì´ê²Œ ëŒ€ì²´ ì–¸ì œ ì •ì²´ë¥¼ ë“œëŸ¬ë‚´ì§€â“â“â“â“â“â“ 


    // ğŸ”· get BoundingClientRect()
        // [ê¸°ëŠ¥] 
            // íƒœê·¸ì˜ 'ì‚¬ê°ë©´' ì„ êµ¬í•  ìˆ˜ ìˆë‹¤. 
            // 'ì‚¬ê°ë©´ì˜ ìœ„ì¹˜'â“â“ ë¥¼ êµ¬í•  ìˆ˜ ìˆëŠ” ê±´ê°€? 

        // [ê¸°ëŠ¥ í™•ì¸]
            console.log(_boxContents[0].getBoundingClientRect().top + ":" + "ì²«ë²ˆì¨° ì‚¬ê°í˜•, ìœ—ë³€")
                // [í•´ì„]
                    // 'ì²« ë²ˆì§¸ íŒŒë€ ë°•ìŠ¤' ì˜ ì‚¬ê°ë©´ì˜ 'ìœ„ì¹˜' ê°’ ì¤‘ 'top' ì´ 'â­ë¸Œë¼ìš°ì €ì˜ ìƒë‹¨ì„ ê¸°ì¤€â­' ìœ¼ë¡œ í–ˆì„ ë•Œ, '5ë§Œí¼ ë–¨ì–´ì§€ë©´' 
                    // > ìœ„ì— ê°„ë‹¹ê°„ë‹¹ í•˜ê²Œ, ë‹¤ì„ë½ ë§ë½ í•˜ëŠ” ì •ë„ ì„ â­â­â­â­â­â­â­â­â­â­â­ 
                    
            console.log(_boxContents[0].getBoundingClientRect().bottom + ":" + "ì²«ë²ˆì§¸ ì‚¬ê°í˜•, ì•„ë«ë³€ìœ„ì¹˜")
                // [í•´ì„]
                    // 'ì²« ë²ˆì§¸ íŒŒë€ ë°•ìŠ¤' ì˜ ì‚¬ê°ë©´ì˜ 'ìœ„ì¹˜' ê°’ ì¤‘ 
                    // 'bottm' ì´ 
                    // 'â­ë¸Œë¼ìš°ì €ì˜ ìƒë‹¨ì„ ê¸°ì¤€â­' ìœ¼ë¡œ í–ˆì„ ë•Œ, 
                    // ì–´ëŠ ì •ë„ ë–¨ì–´ì ¸ ìˆëŠ”ê°€! ë¥¼ ë‚˜íƒ€ëƒ„ 


    // ğŸ”· windowYOffset 
        // [ê¸°ëŠ¥]
            // í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•˜ê±°ë‚˜, ì ‘ì† í–ˆì„ ë•Œ, 'ìŠ¤í¬ë¡¤ì´ ì§„í–‰ë˜ì–´ ìˆëŠ” ì •ë„'
            // ë¸Œë¼ìš°ì € í˜ì´ì§€ 'ìƒë‹¨' ì„ ê¸°ì¤€ìœ¼ë¡œ ë–¨ì–´ì§„ ì •ë„ë¥¼ ë³´ì—¬ì¤Œ. 

        // [ê¸°ëŠ¥í™•ì¸]
            console.log(window.pageYOffset + " " + "í˜„ì¬, ë¸Œë¼ìš°ì €ì—ì„œ, ìŠ¤í¬ë¡¤ì´, ì–¼ë§ˆë‚˜ ì›€ì§ì˜€ëŠ”ê°€ë¥¼ ì•Œë ¤ì¤Œ");


    // ğŸ”· _boxContents[0].getBoundingClientRect().top + window.pageYOffset
        // [ì´í•´]
            // ğŸ˜¥ğŸ˜¥ğŸ˜¥ ì™œ ë” í–ˆì„ê¹Œ? 
            // ì˜ˆìƒí•´ë´. 
                // ìš°ì„ , `'ì²« ë²ˆì§¸ ë°•ìŠ¤' ì˜ ë§¨ ìœ— ë¶€ë¶„ì˜ ìœ„ì¹˜ ê°’` + í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê°€ ë”í•´ì§

        // [ëª¨ë¥´ê² ì–´]
            // ì, ì´ê±¸ ë”í•œ ê°’ì´ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ ëª¨ë¥´ê² ì–´. 
            console.log(_boxContents[0].getBoundingClientRect().top + window.pageYOffset)
            
            // ìŠ¤í¬ë¡¤ì„ ì•„ë˜ë¡œ ë‚´ë ¤ > 1) ìŠ¤í¬ë¡¤ ê°’ì´ ì¦ê°€ 2) ë¸Œë¼ìš°ì €ìƒë‹¨ê³¼, ì²«ë²ˆì§¸ ë°•ìŠ¤ top ì€ ê°€ê¹Œì›Œ ì§ so ê°’ ê°ì†Œ 
            // ì´ ë‘ê°œì˜ ì¦ê°í­ì€ ë™ì¼ > so, ìƒì‡„. â­â­â­ 
            // ê·¸ëŸ¬ë©´, top ì˜ 'ì ˆëŒ€ìœ„ì¹˜' â­â­â­â­â­â­â­â­ ë¥¼ ì•Œê²Œ ëœë‹¤. 
            // ì¦‰, _boxContents[0].getBoundingClientRect().top ì€ 'ë¸Œë¼ìš°ì € ìƒë‹¨ ê¸°ì¤€ì˜ top ìœ„ì¹˜' ì˜€ìŒ. = ìƒëŒ€ì ì¸ ìœ„ì¹˜ê°’ ì„. 
            // ì—¬ê¸°ì— ìŠ¤í¬ë¡¤ ë°”ì˜ ìœ„ì¹˜ê°’ì„ ë”í•´ì£¼ë©´ > ë³´ì •ì´ ëœë‹¤. â­â­â­â­â­â­ 


    // ğŸ”· ê° ë°•ìŠ¤ë“¤ì˜ top ë¶€ë¶„ì˜ ì ˆëŒ€ ì¢Œí‘œ, êµ¬í•˜ê¸°. 
        console.log(_boxContents[0].getBoundingClientRect().top + window.pageYOffset);
        console.log(_boxContents[1].getBoundingClientRect().top + window.pageYOffset);
        console.log(_boxContents[2].getBoundingClientRect().top + window.pageYOffset);
        console.log(_boxContents[3].getBoundingClientRect().top + window.pageYOffset);


    // ğŸ”· ì´ˆê¸°í™” 
        // ì´ˆê¸°í™”ê°€ í•„ìš”í•œ ì´ìœ ? 
            // ì´ê±´ ì•ˆ í•˜ë©´, ë§¤ë²ˆ í•  ë•Œ ë§ˆë‹¤ ë‹¬ë¼ì§€ë‚˜? â“â“â“â“â“â“ 
        let posY = [];


    // ğŸ”· ì´ˆê¸°ì…‹íŒ… : ë„˜ì–´ê°ˆ ë•Œ, ê¸°ì¤€ì´ ë˜ëŠ” ë°•ìŠ¤ë“¤ì˜ ì ˆëŒ€ê°’ ìœ„ì¹˜ë¥¼ ë¯¸ë¦¬ êµ¬í•´ë†“ê¸°
        // [ì²˜ìŒ í•„ê¸°]
            // top ì˜ ê°’ì„ ì•Œì•„ì•¼ ë¹„êµí•´ì„œ ì• ë‹ˆë©”ì´ì…˜ í•  ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ â­â­â­â­â­â­ 
            // ë‹¤ë§Œ, ë¬¸ì œëŠ” ì´ë¯¸ ìŠ¤í¬ë¡¤ì´ ë˜ì–´ ìˆì„ ëŒ€ 
            // ìŠ¤í¬ë¡¤ì´ ì´ë¯¸ ë˜ì–´ ìˆìœ¼ë©´ ì˜ ì•ˆ ë‚˜ì™€ 
        // [2íšŒë… í•„ê¸°]
            // ìŒ......... ì•„ì§ í™• ëª¨ë¥´ê² ìŒ. 

        function init() {

            _boxContents.forEach(function(i) {

                // í˜ì´ì§€ì— ì ‘ì†í–ˆì„ ë•Œ, ëª¨ë“  box ì˜ top ê°’ë“¤ì„ ëª¨ë‘ 'ë°°ì—´' ì— ë‹´ì•„ë‘ .
                    // ì´ë ‡ê²Œ í•˜ë©´ 'ì›í•˜ëŠ” box' ë“¤ì˜ ì ˆëŒ€ê°’ì´ ë‚˜ì˜´ â­â­â­â­â­â­â­â­  
                posY.push(i.getBoundingClientRect().top + window.pageYOffset)
            })
        }

        init();
            // [ì•„ì›ƒí’‹]
                // ëª¨ë“  box ë“¤ì˜, top ì˜, ì ˆëŒ€ì ì¸ ìœ„ì¹˜ê°’ì´, 'ë°°ì—´(ë¦¬ìŠ¤íŠ¸)' ì— ë‹´ê¹€ 



    // ğŸ”· 'ìŠ¤í¬ë¡¤ event' ê°€ ë°œìƒí•˜ê³  > 'ê¸°ì¤€ ë°•ìŠ¤' ë¥¼ 'ìŠ¤í¬ë¡¤ì´ ì§€ë‚˜ì¹˜ë©´' > 'ì›í•˜ëŠ” íš¨ê³¼' ë¥¼ ì£¼ê¸° 

        // [ì‚¬ì „ì‘ì—…] ìŠ¤í¬ë¡¤ì´ ê³„ì‚°ë˜ëŠ” ìœ„ì¹˜ë¥¼ 'ë¸Œë¼ìš°ì € ë°‘ë‹¨' ìœ¼ë¡œ ë³€ê²½í•˜ê¸°
            // [ê¸°ì¡´]
                // ê¸°ì¡´ì€ ìœ„ì˜€ì§€? 
                // ê·¼ë°, ì™œ ì•„ë˜ë¡œ ë³€ê²½í•˜ì§€? â“â“â“â“â“â“â“ 
                // ë§Œì•½, ì´ê±¸ ì•ˆ í•˜ë©´, ì•ˆ ë˜ë‚˜? â“â“â“â“â“â“â“ 

            // [ë°©ë²•]
                // `let _scroll = window.scrollY + window.innerHeight;`
                // window.innerHeight : ë¸Œë¼ìš°ì €ì˜ ë†’ì´ê°’ì„ ì•Œë ¤ì¤Œ! â­â­â­â­â­

            // [ì‹¤ìµ]`
                // ë¸Œë¼ìš°ì €ì˜ bottom ì„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ê°’ì„ êµ¬í•  ìˆ˜ ìˆìŒ! â­â­â­â­â­ 
            
            // [ì´ë ‡ê²Œ í•˜ëŠ” ì´ìœ ]
                // ë¸Œë¼ìš°ì €ì˜ ë°‘ë‹¨ì— ë‹¿ì•˜ì„ ë•Œ > ë³€í™”ê°€ ì¼ì–´ë‚˜ê²Œ í•˜ê³  ì‹¶ì€ ê²ƒ â­â­â­â­â­ 
                // ë§Œì•½, ë¸Œë¼ìš°ì €ì˜ ìœ—ë‹¨ì— ë‹¿ì•˜ì„ ë•Œ > ë³€í™”ê°€ ì¼ì–´ë‚˜ê²Œ í•˜ê³  ì‹¶ìœ¼ë©´ > ìœ„ë¡œ ì¡ì•„ì•¼ í•  ê²ƒ â“â“â“â“â“ 
                // ë§ë‚˜?  
    

        // [êµ¬í˜„] âœ…âœ…âœ…âœ…âœ… 
        window.onscroll = function() {

            // 'ì–´ëŠ ì •ë„ ìŠ¤í¬ë¡¤ í–ˆëŠ”ê°€' ë¥¼ ë¸Œë¼ìš°ì €ì˜ bottom ê¸°ì¤€ìœ¼ë¡œ ì¸¡ì •í•˜ëŠ” ë³€ìˆ˜ì¸ _scroll ì„ ë§Œë“¤ê¸°
            let _scroll = window.scrollY + window.innerHeight;
            

            _boxContents.forEach(function(i, index) {

                if (_scroll > posY[index]) {

                    // if ë¬¸ ì‚¬ìš©í•  ë•Œ, ì¤‘ê´„í˜¸ê°€ ì—†ëŠ” ê²½ìš°, ë°”ë¡œ ë°‘ì˜ ì½”ë“œë§Œ ì ìš© ì‹œí‚¬ ìˆ˜ ìˆìŒ. 
                    // â“â“â“â“â“ 
                        // ìŒ... ì›ë˜ ì €ê¸°ê²Œ ì¤‘ê´„í˜¸ë¥¼ ë„£ì–´ë„, ë¹„ìŠ·í•˜ê²Œ ì‘ë™í•˜ëŠ”ê±° ì•„ë‹Œê°€? 
                    if(!i.classList.contains("is-active"))
                    i.classList.add("is-active");

                } else {
                    i.classList.remove("is-active")
                }

            })

        }

        // â“ ìµë„ˆ ë­˜ ìœ„í•œê±°ì§€? ê·¸ëƒ¥ ë¸ŒëŸ¬ìš°ì € í¬ê¸° ì¸¡ì •ìš©ì¸ê°€? 
        window.onresize = function() {
            console.log(window.innerHeight);
        }











</script>

</html>